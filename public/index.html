<!DOCTYPE html>
<html>
<head>
    <title>Invoice Normalizer</title>
    <style>
        body { font-family: Arial, sans-serif; background-color: #f4f0ff; color: #333; margin: 40px; }
        h2, h3 { color: #5e3ec9; }
        .flash { padding: 10px; margin-bottom: 15px; border-radius: 5px; }
        .error { background-color: #f8d7da; color: #842029; }
        .success { background-color: #d1e7dd; color: #0f5132; }
        .info { background-color: #e0d9f8; color: #4b0082; }
        button { margin: 5px; padding: 10px 20px; font-size: 16px; background-color: #5e3ec9; color: white; border: none; border-radius: 5px; cursor: pointer; }
        button:hover { background-color: #4828a6; }
        .credit-pack { display: inline-block; margin: 10px; }
    </style>
</head>
<body>

<h2>Bienvenido, {{ session.username }}</h2>
<h3>Créditos disponibles: {{ credits }}</h3>

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    {% for category, message in messages %}
      <div class="flash {{ category }}">{{ message }}</div>
    {% endfor %}
  {% endif %}
{% endwith %}

<h3>Subir facturas</h3>
<form action="/dashboard" method="POST" enctype="multipart/form-data">
    <input type="file" name="files" multiple required>
    <button type="submit">Procesar facturas</button>
</form>

<h3>Comprar créditos</h3>
<div class="credit-pack">
    <form action="/purchase_credits" method="POST">
        <input type="hidden" name="pack" value="5">
        <button>5 créditos – €5</button>
    </form>
</div>
<div class="credit-pack">
    <form action="/purchase_credits" method="POST">
        <input type="hidden" name="pack" value="50">
        <button>50 créditos – €30</button>
    </form>
</div>
<div class="credit-pack">
    <form action="/purchase_credits" method="POST">
        <input type="hidden" name="pack" value="200">
        <button>200 créditos – €80</button>
    </form>
</div>

<br><br>
<a href="/logout" style="color:#5e3ec9;">Cerrar sesión</a>

</body>
</html>
